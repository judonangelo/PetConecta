<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fale-conosco</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <header class="header">
        <h1>PetConecta</h1>
        <h3>Fale-Conosco</h3>
    </header>
    <div class="container">

        <label class="label" for="nome">Nome:</label>
        <br>
        <input class="input" type="text" id="nome">
        
        <br>
        <br>

        <label class= "label" for= "email">E-mail:</label>
        <br>
        <input class="input" type="email" id="email">

        <br>
        <br>

        <label class="label" for="assunto">Assunto:</label>
        <br>
        <input class="input" type="text" id="assunto">

        <br>
        <br>

        <label  class="label" for="mensagem">Mensagem:</label>
        <br>
        <input class="input" type="text" id="mensagem">

        <br>
        <br>


        <button class= "btn1" id="btn_enviar" >Enviar</button>
        

        <p id="p_enviar" style="color: black;">Esperando ação</p>

    </div>
    <footer>
        <p>&copy; 2025 PetConecta</p>
        <img src="foto.PNG" alt="chora" width="100%" height="90px">
    </footer>

</body>
<script>
      // criar um evento para quando clicar no botão
      document.getElementById("btn_enviar").addEventListener("click", async ()=>{
        // primeira etapa - pegar as informções dos inputs 
        const Nome = document.getElementById("nome").value
        const Email = document.getElementById("email").value
        const Assunto = document.getElementById("assunto").value
        const Mensagem = document.getElementById("mensagem").value




        // segunda etapa - fazeer s requisição para o back-end
        const resposta = await fetch(`http://localhost:3000/fale_conosco`,{
            method:"POST",
            headers:{
                "Accept":"application/json",
                "content-type":"application/json"
            }, 
            body:JSON.stringify({
            "Nome": Nome,
            "Email": Email,
            "Assunto": Assunto,
            "Mensagem": Mensagem
            
            })
            
        })

        // terceira etapa - pegar a resposta do back-end
        if(resposta.ok == true){
            const dados = await resposta.json()
            document.getElementById("p_enviar").innerText = dados.resposta
        }else{

        }
    })
</script>
</html>